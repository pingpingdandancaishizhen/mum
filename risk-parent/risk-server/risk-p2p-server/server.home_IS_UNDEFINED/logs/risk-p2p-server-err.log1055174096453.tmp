WARN  [risk-p2p-server] 2017-05-03 09:40:37.992 [main] org.springframework.context.support.PropertySourcesPlaceholderConfigurer - Could not load properties from class path resource [conf/jms.properties]: class path resource [conf/jms.properties] cannot be opened because it does not exist
WARN  [risk-p2p-server] 2017-05-03 09:47:19.073 [New I/O worker #1] com.alibaba.dubbo.remoting.transport.AbstractServer -  [DUBBO] All clients has discontected from /172.16.88.136:10020. You can graceful shutdown now., dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
WARN  [risk-p2p-server] 2017-05-03 09:47:57.962 [New I/O worker #2] com.alibaba.dubbo.remoting.transport.AbstractServer -  [DUBBO] All clients has discontected from /172.16.88.136:10020. You can graceful shutdown now., dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
ERROR [risk-p2p-server] 2017-05-03 09:53:03.299 [DubboServerHandler-172.16.88.136:10020-thread-18] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_012364329183383
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@6806cd57]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_012364329183383]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 09:53:03
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 43 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 57 more


ERROR [risk-p2p-server] 2017-05-03 09:53:03.310 [DubboServerHandler-172.16.88.136:10020-thread-18] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 43 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 57 common frames omitted
WARN  [risk-p2p-server] 2017-05-03 09:53:33.365 [New I/O worker #3] com.alibaba.dubbo.remoting.transport.AbstractServer -  [DUBBO] All clients has discontected from /172.16.88.136:10020. You can graceful shutdown now., dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
ERROR [risk-p2p-server] 2017-05-03 09:55:55.481 [DubboServerHandler-172.16.88.136:10020-thread-27] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_012536720921056
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@3275b20c]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_012536720921056]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 09:55:55
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 09:55:55.485 [DubboServerHandler-172.16.88.136:10020-thread-27] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 09:56:07.836 [DubboServerHandler-172.16.88.136:10020-thread-31] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_012549074161721
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@3a4d1130]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_012549074161721]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 09:56:07
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 09:56:07.846 [DubboServerHandler-172.16.88.136:10020-thread-31] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 09:56:20.223 [DubboServerHandler-172.16.88.136:10020-thread-35] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_012561460831478
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@2f1b76f]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_012561460831478]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 09:56:20
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 09:56:20.226 [DubboServerHandler-172.16.88.136:10020-thread-35] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM cxph_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, cxph_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, cxph_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 09:56:48.555 [DubboServerHandler-172.16.88.136:10020-thread-38] cn.sunfit.risk.buz.server.service.system.PermissionServiceImpl - Method [getLoginUserCode] threw an FastException with message 用户名或密码错误！.
ERROR [risk-p2p-server] 2017-05-03 09:56:48.555 [DubboServerHandler-172.16.88.136:10020-thread-38] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.system.PermissionService, method: getLoginUserCode, exception: cn.sunfit.risk.buz.api.exception.ServiceException: 用户名或密码错误！, dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
cn.sunfit.risk.buz.api.exception.ServiceException: 用户名或密码错误！
ERROR [risk-p2p-server] 2017-05-03 09:57:01.320 [DubboServerHandler-172.16.88.136:10020-thread-45] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_012602553590574
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@64e026c8]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_012602553590574]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 09:57:01
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 09:57:01.324 [DubboServerHandler-172.16.88.136:10020-thread-45] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 11:33:19.931 [DubboServerHandler-172.16.88.136:10020-thread-51] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_018380753800509
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@c1669f8]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_018380753800509]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 11:33:19
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 11:33:19.934 [DubboServerHandler-172.16.88.136:10020-thread-51] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 11:37:57.213 [DubboServerHandler-172.16.88.136:10020-thread-57] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_018658014103615
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@52429d6c]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_018658014103615]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 11:37:57
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 11:37:57.221 [DubboServerHandler-172.16.88.136:10020-thread-57] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 13:33:31.599 [DubboServerHandler-172.16.88.136:10020-thread-62] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0115591908237837
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@1922d2b7]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0115591908237837]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 13:33:31
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 13:33:31.604 [DubboServerHandler-172.16.88.136:10020-thread-62] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 13:45:05.419 [DubboServerHandler-172.16.88.136:10020-thread-67] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0116285677683690
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@66e536a3]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0116285677683690]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 13:45:05
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 13:45:05.424 [DubboServerHandler-172.16.88.136:10020-thread-67] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 13:57:54.012 [DubboServerHandler-172.16.88.136:10020-thread-79] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0117054217217974
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@2dfd227]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0117054217217974]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 13:57:54
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 13:57:54.016 [DubboServerHandler-172.16.88.136:10020-thread-79] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 13:58:41.133 [DubboServerHandler-172.16.88.136:10020-thread-82] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0117101334154371
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@4151d21e]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0117101334154371]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 13:58:41
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 13:58:41.138 [DubboServerHandler-172.16.88.136:10020-thread-82] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
WARN  [risk-p2p-server] 2017-05-03 14:06:49.086 [New I/O worker #4] com.alibaba.dubbo.remoting.transport.AbstractServer -  [DUBBO] All clients has discontected from /172.16.88.136:10020. You can graceful shutdown now., dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
ERROR [risk-p2p-server] 2017-05-03 14:13:41.012 [DubboServerHandler-172.16.88.136:10020-thread-92] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0118001148209979
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@74f9ccbe]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0118001148209979]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 14:13:41
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 14:13:41.016 [DubboServerHandler-172.16.88.136:10020-thread-92] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 14:15:25.458 [DubboServerHandler-172.16.88.136:10020-thread-95] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0118105587110323
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@2936a818]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0118105587110323]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 14:15:25
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 14:15:25.466 [DubboServerHandler-172.16.88.136:10020-thread-95] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 14:16:20.289 [DubboServerHandler-172.16.88.136:10020-thread-100] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0118160415611646
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@bd89668]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0118160415611646]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 14:16:20
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 14:16:20.296 [DubboServerHandler-172.16.88.136:10020-thread-100] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 14:17:59.451 [DubboServerHandler-172.16.88.136:10020-thread-107] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0118259569514444
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@6bb15d1f]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0118259569514444]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 14:17:59
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 14:17:59.460 [DubboServerHandler-172.16.88.136:10020-thread-107] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 14:32:52.110 [DubboServerHandler-172.16.88.136:10020-thread-114] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0119152164304898
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@69fd6c0d]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0119152164304898]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 14:32:52
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 14:32:52.116 [DubboServerHandler-172.16.88.136:10020-thread-114] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 14:34:06.849 [DubboServerHandler-172.16.88.136:10020-thread-119] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0119226899096088
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@69d9e4e0]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0119226899096088]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 14:34:06
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 14:34:06.858 [DubboServerHandler-172.16.88.136:10020-thread-119] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:20:42.134 [DubboServerHandler-172.16.88.136:10020-thread-128] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0125621728369985
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@7ddcffec]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0125621728369985]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:20:42
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:20:42.141 [DubboServerHandler-172.16.88.136:10020-thread-128] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:22:46.354 [DubboServerHandler-172.16.88.136:10020-thread-131] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0125745937999340
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@173f7c0f]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0125745937999340]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:22:46
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:22:46.366 [DubboServerHandler-172.16.88.136:10020-thread-131] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:23:30.204 [DubboServerHandler-172.16.88.136:10020-thread-134] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0125789780992276
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@34df7ddd]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0125789780992276]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:23:30
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:23:30.211 [DubboServerHandler-172.16.88.136:10020-thread-134] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:23:41.459 [DubboServerHandler-172.16.88.136:10020-thread-135] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0125801040303864
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@2fa77283]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0125801040303864]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:23:41
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? and base.bp_no like concat('%',?,'%') order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? and base.bp_no like concat('%',?,'%') order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:23:41.463 [DubboServerHandler-172.16.88.136:10020-thread-135] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? and base.bp_no like concat('%',?,'%') order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? and base.bp_no like concat('%',?,'%') order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? and base.bp_no like concat('%',?,'%') order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
WARN  [risk-p2p-server] 2017-05-03 16:32:00.776 [New I/O worker #5] com.alibaba.dubbo.remoting.transport.AbstractServer -  [DUBBO] All clients has discontected from /172.16.88.136:10020. You can graceful shutdown now., dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
ERROR [risk-p2p-server] 2017-05-03 16:33:44.563 [DubboServerHandler-172.16.88.136:10020-thread-142] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0126404101394539
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@559dd738]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0126404101394539]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:33:44
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? and base.bp_no like concat('%',?,'%') and base.cust_name like concat('%',?,'%') and base.cust_license_num like concat('%',?,'%') and base.cust_type = ? and base.loancar_license_plate like concat('%',?,'%') and base.create_time between ? and ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? and base.bp_no like concat('%',?,'%') and base.cust_name like concat('%',?,'%') and base.cust_license_num like concat('%',?,'%') and base.cust_type = ? and base.loancar_license_plate like concat('%',?,'%') and base.create_time between ? and ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:33:44.568 [DubboServerHandler-172.16.88.136:10020-thread-142] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? and base.bp_no like concat('%',?,'%') and base.cust_name like concat('%',?,'%') and base.cust_license_num like concat('%',?,'%') and base.cust_type = ? and base.loancar_license_plate like concat('%',?,'%') and base.create_time between ? and ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? and base.bp_no like concat('%',?,'%') and base.cust_name like concat('%',?,'%') and base.cust_license_num like concat('%',?,'%') and base.cust_type = ? and base.loancar_license_plate like concat('%',?,'%') and base.create_time between ? and ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 and base.product_type = ? and base.bp_no like concat('%',?,'%') and base.cust_name like concat('%',?,'%') and base.cust_license_num like concat('%',?,'%') and base.cust_type = ? and base.loancar_license_plate like concat('%',?,'%') and base.create_time between ? and ? order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:34:03.225 [DubboServerHandler-172.16.88.136:10020-thread-146] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0126422761628313
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@22b40c2f]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0126422761628313]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:34:03
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:34:03.230 [DubboServerHandler-172.16.88.136:10020-thread-146] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:35:58.377 [DubboServerHandler-172.16.88.136:10020-thread-151] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0126537906633961
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@6b42994b]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0126537906633961]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:35:58
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:35:58.383 [DubboServerHandler-172.16.88.136:10020-thread-151] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:38:05.610 [DubboServerHandler-172.16.88.136:10020-thread-156] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0126665129584950
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@55913911]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0126665129584950]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:38:05
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:38:05.617 [DubboServerHandler-172.16.88.136:10020-thread-156] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:38:48.941 [DubboServerHandler-172.16.88.136:10020-thread-160] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0126708458196172
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@c8f3299]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0126708458196172]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:38:48
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:38:48.948 [DubboServerHandler-172.16.88.136:10020-thread-160] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
WARN  [risk-p2p-server] 2017-05-03 16:39:18.324 [New I/O worker #6] com.alibaba.dubbo.remoting.transport.AbstractServer -  [DUBBO] All clients has discontected from /172.16.88.136:10020. You can graceful shutdown now., dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
ERROR [risk-p2p-server] 2017-05-03 16:40:29.002 [DubboServerHandler-172.16.88.136:10020-thread-174] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0126808510142247
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@5303f245]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0126808510142247]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:40:29
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:40:29.012 [DubboServerHandler-172.16.88.136:10020-thread-174] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:40:52.349 [DubboServerHandler-172.16.88.136:10020-thread-177] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0126831856583687
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@5805ff17]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0126831856583687]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:40:52
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:40:52.359 [DubboServerHandler-172.16.88.136:10020-thread-177] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:42:48.794 [DubboServerHandler-172.16.88.136:10020-thread-182] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0126948293103875
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@342df003]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0126948293103875]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:42:48
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:42:48.799 [DubboServerHandler-172.16.88.136:10020-thread-182] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:44:30.551 [DubboServerHandler-172.16.88.136:10020-thread-186] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0127050042013220
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@47c5bb6a]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0127050042013220]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:44:30
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:44:30.558 [DubboServerHandler-172.16.88.136:10020-thread-186] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:45:07.963 [DubboServerHandler-172.16.88.136:10020-thread-191] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0127087451231600
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@26b68b12]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0127087451231600]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:45:07
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:45:07.974 [DubboServerHandler-172.16.88.136:10020-thread-191] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor281.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$b8a293e8.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
WARN  [risk-p2p-server] 2017-05-03 16:46:28.726 [main] org.springframework.context.support.PropertySourcesPlaceholderConfigurer - Could not load properties from class path resource [conf/jms.properties]: class path resource [conf/jms.properties] cannot be opened because it does not exist
ERROR [risk-p2p-server] 2017-05-03 16:47:39.835 [DubboServerHandler-172.16.88.136:10020-thread-12] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0127239248070203
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@242e4978]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0127239248070203]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:47:39
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$119835c0.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 43 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor193.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 57 more


ERROR [risk-p2p-server] 2017-05-03 16:47:39.843 [DubboServerHandler-172.16.88.136:10020-thread-12] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$119835c0.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 43 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor193.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 57 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:49:29.958 [DubboServerHandler-172.16.88.136:10020-thread-16] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0127349426869850
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@7b896df2]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0127349426869850]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:49:29
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$119835c0.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 43 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor193.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 57 more


ERROR [risk-p2p-server] 2017-05-03 16:49:29.964 [DubboServerHandler-172.16.88.136:10020-thread-16] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$119835c0.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 43 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor193.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 57 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:53:52.989 [DubboServerHandler-172.16.88.136:10020-thread-19] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0127612440317776
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@39c2be4d]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0127612440317776]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:53:52
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$119835c0.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor193.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:53:52.995 [DubboServerHandler-172.16.88.136:10020-thread-19] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$119835c0.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor193.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 16:54:23.947 [DubboServerHandler-172.16.88.136:10020-thread-23] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0127643395788414
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@257abb7c]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0127643395788414]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 16:54:23
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$119835c0.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor193.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 16:54:23.964 [DubboServerHandler-172.16.88.136:10020-thread-23] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$119835c0.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor193.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
ERROR [risk-p2p-server] 2017-05-03 17:45:08.395 [DubboServerHandler-172.16.88.136:10020-thread-29] cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl - ********************** Exception is thrown **********************
异常编号 : EXCEPTION_CODE_0130687626026119
产生异常的类名 : cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl
产生异常的方法名 : selectTodoList
方法参数 : [cn.sunfit.risk.buz.api.beans.p2p.activiti.TodoQueryReq@4249db69]
异常提示信息 : 在业务层发生了异常,可能是一个BUG,请将日志文件中异常编号为[EXCEPTION_CODE_0130687626026119]的异常明细发送给开发团队
异常发生的时间 : 2017-05-03 17:45:08
异常堆栈信息 : orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78)
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55)
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33)
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$119835c0.selectTodoList(<generated>)
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java)
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48)
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77)
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57)
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40)
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100)
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88)
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178)
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53)
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371)
	at com.sun.proxy.$Proxy24.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96)
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58)
	... 42 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor193.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62)
	at com.sun.proxy.$Proxy46.query(Unknown Source)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)
	... 56 more


ERROR [risk-p2p-server] 2017-05-03 17:45:08.406 [DubboServerHandler-172.16.88.136:10020-thread-29] com.alibaba.dubbo.rpc.filter.ExceptionFilter -  [DUBBO] Got unchecked and undeclared exception which called by 172.16.88.136. service: cn.sunfit.risk.buz.api.service.p2p.activiti.BpService, method: selectTodoList, exception: orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list', dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
orj.worf.exception.AppRuntimeException: nested exception is org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at orj.worf.exception.util.ExceptionUtils.createAppRuntimeException(ExceptionUtils.java:78) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.validateException(ExceptionInterceptor.java:55) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at orj.worf.exception.interceptor.ExceptionInterceptor.handleAppException(ExceptionInterceptor.java:44) ~[worf-exception-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:603) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at orj.worf.service.aspect.ServiceLogAspect.logInboundOutbound(ServiceLogAspect.java:33) ~[worf-service-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:68) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$EnhancerBySpringCGLIB$$119835c0.selectTodoList(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at com.alibaba.dubbo.common.bytecode.Wrapper28.invokeMethod(Wrapper28.java) ~[na:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:48) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:77) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:57) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:58) ~[worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:43) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:79) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:57) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:106) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:39) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:40) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:100) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:114) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:88) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:178) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:53) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:86) [worf-remoting-dubbo-0.1.0-SNAPSHOT.jar:0.1.0-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:na]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:na]
	at java.lang.Thread.run(Thread.java:745) [na:na]
Caused by: org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
### The error may exist in file [D:\workspace\risk-parent\risk-server\risk-p2p-server\target\classes\sqlmap\p2p\activiti\BP_SqlMap.xml]
### The error may involve cn.sunfit.risk.buz.server.dao.p2p.activiti.BPDAO.selectTodoList-Inline
### The error occurred while setting parameters
### SQL: SELECT base.bp_id ,base.bp_no ,base.cust_name ,base.cust_gender ,base.cust_license_num ,base.cust_mobile ,base.cust_type , base.customer_id ,base.product_type , base.create_time , base.apply_amount , base.loan_usage , base.loan_apply_monthlyTerm, base.loan_apply_daylyTerm,base.loanapproval_repaymentTypes, base.loan_repayment_method ,base.loancar_license_plate ,base.loancar_car_brand ,base.create_user_id, base.bp_status , base.current_task_key, base.current_task_name,base.loan_approval_amount,base.loan_approval_daylyTerm,base.loan_approval_monthlyTerm ,base.task_id ,base.task_name,base.bp_def_id,base.bp_def_key , p.id product_id , p.product_name, cu.user_name ,cd.dept_name, cd.dept_head,cd.id dept_id from ( SELECT ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_name' AND a.bp_id = bp.bp_id ) cust_name, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_gender' AND a.bp_id = bp.bp_id ) cust_gender, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_license_num' AND a.bp_id = bp.bp_id ) cust_license_num, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_mobile' AND a.bp_id = bp.bp_id ) cust_mobile, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'cust_type' AND a.bp_id = bp.bp_id ) cust_type, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_usage' AND a.bp_id = bp.bp_id ) loan_usage, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_apply_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_daylyTerm' AND a.bp_id = bp.bp_id ) loan_apply_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loan_apply_repaymentTypes' AND a.bp_id = bp.bp_id ) loan_repayment_method, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_repaymentTypes' AND a.bp_id = bp.bp_id ) loanapproval_repaymentTypes, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_limit' AND a.bp_id = bp.bp_id ) loan_approval_amount, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_daylyTerm' AND a.bp_id = bp.bp_id ) loan_approval_daylyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loanapproval_monthlyTerm' AND a.bp_id = bp.bp_id ) loan_approval_monthlyTerm, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_license_plate' AND a.bp_id = bp.bp_id ) loancar_license_plate, ( SELECT a.attr_value FROM rjs_bp_attrs a WHERE a.attr_name = 'loancar_car_bms_brand' AND a.bp_id = bp.bp_id ) loancar_car_brand, bp.task_id ,bp.task_name ,bp.bp_id ,bp.bp_no ,bp.product_type ,bp.bp_def_id , bp.create_time ,bp.create_user_id , bp.current_task_key,bp.current_task_name,bp.bp_status ,bm.bp_def_key from ( SELECT TASK.ID_ task_id, TASK.NAME_ task_name, bp.bp_id, bp.bp_no, bp.product_type, bp.create_time, bp.create_user_id, bp.current_task_key, bp.current_task_name, bp.bp_def_id, bp.bp_status FROM ( SELECT DISTINCT RES.ID_, RES.NAME_ FROM ACT_RU_TASK RES LEFT JOIN ACT_RU_IDENTITYLINK I ON I.TASK_ID_ = RES.ID_ WHERE ( RES.ASSIGNEE_ = ? OR ( RES.ASSIGNEE_ IS NULL AND I.TYPE_ = 'candidate' AND (I.USER_ID_ = ?) ) ) ) TASK, rjs_risk_bps bp WHERE bp.current_task_id LIKE concat('%', TASK.ID_, '%') ) bp, rjs_bp_meta bm WHERE bp.bp_def_id = bm.bp_def_id ) base LEFT JOIN p2p_product p on base.product_type = p.id LEFT JOIN risk_corp_user cu on base.create_user_id = cu.id LEFT JOIN risk_corp_dept cd on cu.dept_id = cd.id where 1 = 1 order by base.create_time desc limit 0, 5
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:371) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at com.sun.proxy.$Proxy24.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:205) ~[mybatis-spring-1.2.2.jar:1.2.2]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:117) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:63) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy64.selectTodoList(Unknown Source) ~[na:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl.selectTodoList(BpServiceImpl.java:96) ~[classes/:na]
	at cn.sunfit.risk.buz.server.service.p2p.activiti.BpServiceImpl$$FastClassBySpringCGLIB$$4fe457dc.invoke(<generated>) ~[spring-core-4.1.3.RELEASE.jar:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:58) ~[spring-aop-4.1.3.RELEASE.jar:4.1.3.RELEASE]
	... 42 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'base.customer_id' in 'field list'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:na]
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.Util.getInstance(Util.java:383) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:980) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3847) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3783) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2447) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2594) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1901) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1193) ~[mysql-connector-java-5.1.36.jar:5.1.36]
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.execute(NewProxyPreparedStatement.java:404) ~[c3p0-0.9.5-pre9.jar:0.9.5-pre9]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:59) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.GeneratedMethodAccessor193.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:62) ~[mybatis-3.2.8.jar:3.2.8]
	at com.sun.proxy.$Proxy46.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:57) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77) ~[mybatis-3.2.8.jar:3.2.8]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108) ~[mybatis-3.2.8.jar:3.2.8]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.lang.reflect.Method.invoke(Method.java:606) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358) ~[mybatis-spring-1.2.2.jar:1.2.2]
	... 56 common frames omitted
WARN  [risk-p2p-server] 2017-05-03 17:57:02.006 [New I/O worker #1] com.alibaba.dubbo.remoting.transport.AbstractServer -  [DUBBO] All clients has discontected from /172.16.88.136:10020. You can graceful shutdown now., dubbo version: 0.1.0-SNAPSHOT, current host: 127.0.0.1
WARN  [risk-p2p-server] 2017-05-03 17:57:08.149 [main-SendThread(127.0.0.1:2181)] org.apache.zookeeper.ClientCnxn - Session 0x15bcbf6c24f0008 for server 127.0.0.1/127.0.0.1:2181, unexpected error, closing socket connection and attempting reconnect
java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at sun.nio.ch.SocketDispatcher.read0(Native Method) ~[na:na]
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43) ~[na:na]
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223) ~[na:na]
	at sun.nio.ch.IOUtil.read(IOUtil.java:192) ~[na:na]
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:379) ~[na:na]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:68) ~[zookeeper-3.4.6.jar:3.4.6-1569965]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:366) ~[zookeeper-3.4.6.jar:3.4.6-1569965]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081) ~[zookeeper-3.4.6.jar:3.4.6-1569965]
WARN  [risk-p2p-server] 2017-05-03 17:57:11.264 [main-SendThread(127.0.0.1:2181)] org.apache.zookeeper.ClientCnxn - Session 0x15bcbf6c24f0008 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:na]
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739) ~[na:na]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361) ~[zookeeper-3.4.6.jar:3.4.6-1569965]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081) ~[zookeeper-3.4.6.jar:3.4.6-1569965]
WARN  [risk-p2p-server] 2017-05-03 17:57:13.470 [main-SendThread(127.0.0.1:2181)] org.apache.zookeeper.ClientCnxn - Session 0x15bcbf6c24f0008 for server null, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused: no further information
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:na]
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739) ~[na:na]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361) ~[zookeeper-3.4.6.jar:3.4.6-1569965]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081) ~[zookeeper-3.4.6.jar:3.4.6-1569965]
